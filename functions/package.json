{
    "name": "functions",
    "scripts": {
        "copy:environment": "npm run clean && gulp compile:config",
        "copy:environment:develop": "rimraf .runtimeconfig.json && gulp compile:config --env develop",
        "environment": "test -f .runtimeconfig.json && firebase functions:config:unset env && firebase functions:config:set env=\"$(cat .runtimeconfig.json)\" || echo \"Please add the file .runtimeconfig.json before deploy.\"",
        "clean": "rimraf ./tmp && rimraf ./.tmp && rimraf ./lib/**/*",
        "build:dev": "npm run clean && npm run lint && tsc --watch",
        "build:debug": "tsc -p tsconfig-build.json && npm run build:compile",
        "build": "npm run clean &&  npm run copy:environment:develop && npm run environment && npm run build:compile",
        "build:compile": "node_modules/.bin/webpack --config ./webpack.config.js",
        "build:compile:watch": "node_modules/.bin/webpack --watch --config ./webpack.config.js",
        "serve:dev:config": "firebase functions:config:get > .runtimeconfig.json",
        "serve:dev": "npm run copy:environment && concurrently \"npm run serve:dev:config && npm run build:compile:watch\" \"npm run emulators:start:dev\"",
        "serve": "npm run build ",
        "emulators:start": "firebase emulators:start",
        "emulators:start:dev": "firebase emulators:start --only \"auth\",\"firestore\",\"database\",\"hosting\",\"pubsub\"",
        "shell": "firebase functions:shell --inspect-functions",
        "start": "npm run build && npm run shell",
        "deploy:dev": "firebase deploy --only functions",
        "logs": "firebase functions:log",
        "lint": "tslint -p tsconfig.json src/**/*.ts -e __tests__/**/*.ts,mocks/**/*.ts",
        "test": "jest",
        "gen:secret": "node -e \"console.log(crypto.randomBytes(32).toString('hex'))\""
    },
    "main": "lib/index.js",
    "dependencies": {
        "body-parser": "^1.18.3",
        "class-transformer": "^0.3.1",
        "class-validator": "^0.12.2",
        "cors": "2.8.5",
        "eventemitter3": "^4.0.7",
        "express": "^4.16.4",
        "express-session": "^1.17.1",
        "firebase": "^7.22.0",
        "firebase-admin": "^8.13.0",
        "firebase-functions": "^3.6.1",
        "firebase-functions-test": "^0.2.2",
        "gaxios": "2.3.2",
        "ioredis": "^5.1.0",
        "lodash": "^4.17.20",
        "moment": "^2.27.0",
        "passport": "^0.4.1",
        "passport-auth0": "^1.3.3",
        "reflect-metadata": "^0.1.13",
        "routing-controllers": "^0.9.0-alpha.6",
        "simple-cached-firestore": "^3.2.9",
        "validated-base": "^1.0.2"
    },
    "devDependencies": {
        "@babel/core": "^7.11.4",
        "@babel/preset-env": "^7.11.0",
        "@babel/preset-typescript": "^7.10.4",
        "@firebase/testing": "^0.20.11",
        "@types/body-parser": "^1.19.0",
        "@types/cors": "2.8.7",
        "@types/express": "^4.17.7",
        "@types/faker": "^4.1.12",
        "@types/multer": "^1.4.4",
        "@types/passport": "^1.0.4",
        "@types/passport-auth0": "^1.0.4",
        "chai": "4.2.0",
        "concurrently": "5.3.0",
        "faker": "^5.1.0",
        "firebase-mock": "^2.3.2",
        "generate-json-webpack-plugin": "^1.0.0",
        "gulp": "^4.0.2",
        "gulp-clean": "^0.4.0",
        "gulp-copy": "^4.0.1",
        "gulp-if": "^3.0.0",
        "gulp-param": "^1.0.3",
        "gulp-rename": "^2.0.0",
        "gulp-typescript": "^6.0.0-alpha.1",
        "gulp-yaml": "^2.0.4",
        "gulp-yaml-include": "^0.3.1",
        "gulp-yaml-merge": "^2.0.0",
        "jest": "^26.4.2",
        "path-exists": "^4.0.0",
        "proxyquire": "^2.1.3",
        "rimraf": "3.0.2",
        "run-sequence": "^2.2.1",
        "ts-essentials": "^7.0.0",
        "ts-loader": "^8.0.4",
        "ts-node": "8.10.2",
        "tslint": "6.1.3",
        "typescript": "3.9.7",
        "webpack": "^4.44.2",
        "webpack-cli": "^3.3.12",
        "webpack-node-externals": "^2.5.2",
        "yamljs": "^0.3.0",
        "yargs": "^16.0.3"
    },
    "private": true
}
